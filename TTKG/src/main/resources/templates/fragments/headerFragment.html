<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header Include</title>
    <!-- 부트스트랩 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        /* 로그인/회원가입 버튼 */
        .login-signup {
            display: inline-block;
            margin-right: 15px;
        }

        /* 닉네임 드롭다운 */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }

        /* 마우스 오버 시 드롭다운 표시 */
        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>
<body>
<header th:fragment="headerFragment">
    <!-- 네비게이션 바 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <!-- 홈 로고 -->
            <a class="navbar-brand" th:href="@{/}">
                <img src="https://via.placeholder.com/40" alt="로고" class="d-inline-block align-text-top">
            </a>

            <!-- 햄버거 메뉴 (모바일용) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- 네비게이션 링크 -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/finderMain}">유치원파인더</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">톡톡게시판</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/childInfoMain}">자녀 페이지</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">우리 아이 유치원</a>
                    </li>
                </ul>

                <!-- 로그인/회원가입 버튼 -->
                <div>
                    <div th:if="${session.userLoginDTO != null}">
                        <!-- 로그인 된 경우 닉네임과 드롭다운 메뉴 표시 -->
                        <div class="dropdown">
                            <span style="color: #cccccc" th:text="(${session.userLoginDTO.getUserNickname()})+'님 환영합니다!'"></span>
                            <div class="dropdown-content">
                                <a th:href="@{/editProfileConfirmPassword}">회원정보 수정</a>
                                <a th:href="@{/logout}">로그아웃</a>
                            </div>
                        </div>
                    </div>

                    <div th:if="${session.userLoginDTO == null}">
                        <!-- 비로그인 상태일 때 로그인/회원가입 버튼 표시 -->
                        <div class="login-signup">
                            <a th:href="@{/login}">로그인</a>
                            <a th:href="@{/roleSelect}">회원가입</a>
                        </div>
                    </div>
<!--                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu">-->
<!--                        <li><a class="dropdown-item" href="#">로그인</a></li>-->
<!--                        <li><a class="dropdown-item" href="#">회원가입</a></li>-->
<!--                        <li>-->
<!--                            <hr class="dropdown-divider">-->
<!--                        </li>-->
<!--                        <li><a class="dropdown-item" href="#">내 정보</a></li>-->
<!--                        <li><a class="dropdown-item" href="#">로그아웃</a></li>-->
<!--                    </ul>-->
                </div>
            </div>
        </div>

        <!-- 드롭다운 그리드 형식의 메뉴 -->
        <div class="dropdown-grid">
            <div>
                <a href="#">서비스 안내</a>
            </div>
            <div>
                <a href="#">유치원·어린이집 조회</a>
            </div>
            <div>
                <a href="#">공지사항</a>
            </div>
            <div>
                <a href="#">자료실</a>
            </div>
            <div>
                <a href="#">공시항목 소개</a>
            </div>
            <div>
                <a href="#">유치원·어린이집 비교</a>
            </div>
            <div>
                <a href="#">자주 묻는 질문</a>
            </div>
            <div>
                <a href="#">공시자료 다운로드</a>
            </div>
            <div>
                <a href="#">관련법령</a>
            </div>
            <div>
                <a href="#">현 위치에서 찾기</a>
            </div>
            <div>
                <a href="#">오류 및 허위정보 신고</a>
            </div>
            <div>
                <a href="#">OPEN API</a>
            </div>
            <div>
                <a href="#">홍보자료</a>
            </div>
            <div>
                <a href="#">정보공시지표</a>
            </div>
        </div>
    </nav>
</header>

<!-- 부트스트랩 JS 추가 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
